(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{126:function(e,a,t){"use strict";var n,r,i;t.d(a,"a",(function(){return n})),t.d(a,"d",(function(){return r})),t.d(a,"b",(function(){return i})),t.d(a,"e",(function(){return o})),t.d(a,"c",(function(){return l})),function(e){e.Bug="bug",e.Comment="comment",e.Suggestion="suggestion",e.Question="question",e.Empty=""}(n||(n={})),function(e){e.BitbucketIssueWebview="bitbucketIssueScreen",e.ConfigWebview="atlascodeSettings",e.OnboardingWebview="atlascodeOnboarding",e.WelcomeWebview="atlascodeWelcomeScreen",e.StartWork="startWork"}(r||(r={})),function(e){e.AtlascodeRepo="atlascodeRepoLink",e.AtlascodeIssues="atlascodeIssuesLink",e.AtlascodeDocs="atlascodeDocsLink",e.Integrations="integrationsLink"}(i||(i={}));const o={userName:"",emailAddress:""};var l;!function(e){e.VERY="Very disappointed",e.SOMEWHAT="Somewhat disappointed",e.NOT="Not disappointed"}(l||(l={}))},152:function(e,a,t){"use strict";var n;t.d(a,"a",(function(){return n})),function(e){e.SubmitPMF="pmfSubmit",e.OpenPMFSurvey="pmfOpen",e.DismissPMFLater="pmfLater",e.DismissPMFNever="pmfNever",e.Refresh="refresh",e.SubmitFeedback="submitFeedback",e.ExternalLink="externalLink",e.OpenJiraIssue="openJiraIssue",e.Cancel="cancelInFlight"}(n||(n={}))},189:function(e,a,t){"use strict";var n;t.d(a,"a",(function(){return r})),function(e){e[e.SECONDS=1e3]="SECONDS",e[e.MINUTES=6e4]="MINUTES",e[e.HOURS=36e5]="HOURS"}(n||(n={}));const r=30*n.SECONDS},216:function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"c",(function(){return m})),t.d(a,"a",(function(){return u}));var n,r=t(33),i=t(0),o=t(152);!function(e){e.LATER="later",e.NEVER="never"}(n||(n={}));const l={isPMFBannerOpen:!1,isPMFSurveyOpen:!1};var c;function s(e,a){switch(a.type){case c.ShowPMFBanner:return Object.assign(Object.assign({},e),{isPMFBannerOpen:!0});case c.ShowPMFSurvey:return{isPMFBannerOpen:!1,isPMFSurveyOpen:!0};case c.SubmitPMFSurvey:case c.DismissPMFBanner:return{isPMFBannerOpen:!1,isPMFSurveyOpen:!1};default:return Object(r.b)(e,a)}}function m(e){const[a,t]=Object(i.useReducer)(s,l),r=Object(i.useCallback)(()=>{t({type:c.ShowPMFBanner})},[]),m=Object(i.useCallback)(()=>{t({type:c.ShowPMFSurvey}),e({type:o.a.OpenPMFSurvey})},[e]),u=Object(i.useCallback)(a=>{t({type:c.SubmitPMFSurvey}),e({type:o.a.SubmitPMF,pmfData:a})},[e]),d=Object(i.useCallback)(a=>{t({type:c.DismissPMFBanner}),a===n.LATER?e({type:o.a.DismissPMFLater}):e({type:o.a.DismissPMFNever})},[e]);return[a,Object(i.useMemo)(()=>({showPMFBanner:r,showPMFSurvey:m,submitPMFSurvey:u,dismissPMFBanner:d}),[r,m,u,d])]}!function(e){e.ShowPMFBanner="showPMFBanner",e.ShowPMFSurvey="showPMFSurvey",e.SubmitPMFSurvey="submitPMFSurvey",e.DismissPMFBanner="dismissPMFBanner"}(c||(c={}));const u=Object(i.createContext)({showPMFBanner:()=>{},showPMFSurvey:()=>{},submitPMFSurvey:e=>{},dismissPMFBanner:e=>{}})},372:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n,r=t(0);!function(e){e.Error="error",e.OnlineStatus="onlineStatus",e.PMFStatus="pmfStatus"}(n||(n={}));var i=t(19),o=t(216);function l(e){const a=Object(r.useMemo)(acquireVsCodeApi,[acquireVsCodeApi]),t=Object(r.useCallback)(e=>{a.postMessage(e)},[a]),l=Object(r.useCallback)((e,t,r,i)=>(a.postMessage(e),new Promise((e,a)=>{const o=setTimeout(()=>{window.removeEventListener("message",l),clearTimeout(o),a(`timeout waiting for event ${t}`)},r),l=r=>{!r.data.type||!t||r.data.type!==t||i&&r.data.nonce!==i||(clearTimeout(o),window.removeEventListener("message",l),e(r.data)),r.data.type===n.Error&&i&&r.data.nonce===i&&(window.removeEventListener("message",l),clearTimeout(o),a(r.data.reason))};window.addEventListener("message",l)})),[a]),c=Object(r.useContext)(i.a),s=Object(r.useContext)(o.a),m=Object(r.useCallback)(a=>{const t=a.data;if(t&&t.type)switch(t.type){case n.Error:c.showError(t.reason);break;case n.OnlineStatus:break;case n.PMFStatus:t.showPMF&&s.showPMFBanner();break;default:e(t)}},[c,s,e]);return Object(r.useEffect)(()=>(window.addEventListener("message",m),a.postMessage({type:"refresh"}),()=>{window.removeEventListener("message",m)}),[e,m,a]),[t,l]}},419:function(e,a,t){"use strict";t.d(a,"a",(function(){return g}));var n=t(778),r=t(71),i=t(829),o=t(817),l=t(852),c=t(514),s=t.n(c),m=t(847),u=t(830),d=t(0),p=t.n(d),b=t(110),h=t(19);const f=Object(r.a)(e=>({indent:{marginLeft:e.spacing(3)}})),g=({})=>{const e=f(),a=Object(d.useContext)(h.b),t=Object(d.useContext)(h.a),[r,c]=Object(d.useState)(a.isErrorBannerOpen);Object(d.useEffect)(()=>{c(e=>e!==a.isErrorBannerOpen?a.isErrorBannerOpen:e)},[a.isErrorBannerOpen]);const g=[];Object(n.a)(a.errorDetails)?(Object.keys(a.errorDetails.errors).forEach(t=>{g.push(p.a.createElement("p",{key:t},p.a.createElement("b",null,t,":"),p.a.createElement("span",{className:e.indent},a.errorDetails.errors[t])))}),a.errorDetails.errorMessages.forEach(a=>{g.push(p.a.createElement("p",{key:Object(b.v4)()},p.a.createElement("span",{className:e.indent},a)))})):Object(n.b)(a.errorDetails)?a.errorDetails.errorMessages.forEach(a=>{g.push(p.a.createElement("p",{key:Object(b.v4)()},p.a.createElement("span",{className:e.indent},a)))}):"object"===typeof a.errorDetails?Object.keys(a.errorDetails).forEach(t=>{g.push(p.a.createElement("p",{key:t},p.a.createElement("b",null,t,":"),p.a.createElement("span",{className:e.indent},JSON.stringify(a.errorDetails[t]))))}):g.push(p.a.createElement("p",{key:Object(b.v4)()},a.errorDetails));const E=Object(d.useCallback)(()=>{t.dismissError(),c(!1)},[t]),v=Object(d.useCallback)(()=>{c(!1)},[]),y=a.errorDetails&&a.errorDetails.title?a.errorDetails.title:"Something went wrong";return p.a.createElement(p.a.Fragment,null,p.a.createElement(i.a,{in:a.isErrorBannerOpen},p.a.createElement(m.a,{variant:"standard",severity:"error",action:p.a.createElement(o.a,{"aria-label":"close",color:"inherit",size:"small",onClick:E},p.a.createElement(s.a,{fontSize:"inherit"}))},p.a.createElement(u.a,null,y),g)),p.a.createElement(l.a,{open:r,autoHideDuration:6e3,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"left"}},p.a.createElement(m.a,{variant:"standard",severity:"error",action:p.a.createElement(o.a,{"aria-label":"close",color:"inherit",size:"small",onClick:v},p.a.createElement(s.a,{fontSize:"inherit"}))},p.a.createElement(u.a,null,y),p.a.createElement("p",null,"See details at the top of this page"))))}},490:function(e,a,t){"use strict";t.d(a,"a",(function(){return W}));var n=t(829),r=t(840),i=t(76),o=t(828),l=t(847),c=t(830),s=t(0),m=t.n(s),u=t(216),d=t(856),p=t(745),b=t(832),h=t(820),f=t(821),g=t(780),E=t(1),v=t(2),y=(t(5),t(7)),O=t(441),k=t(6),C=t(77),j=t(8),S=s.forwardRef((function(e,a){e.checked;var t=e.classes,n=e.className,r=e.control,i=e.disabled,o=(e.inputRef,e.label),l=e.labelPlacement,c=void 0===l?"end":l,m=(e.name,e.onChange,e.value,Object(v.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),u=Object(O.a)(),d=i;"undefined"===typeof d&&"undefined"!==typeof r.props.disabled&&(d=r.props.disabled),"undefined"===typeof d&&u&&(d=u.disabled);var p={disabled:d};return["checked","name","onChange","value","inputRef"].forEach((function(a){"undefined"===typeof r.props[a]&&"undefined"!==typeof e[a]&&(p[a]=e[a])})),s.createElement("label",Object(E.a)({className:Object(y.a)(t.root,n,"end"!==c&&t["labelPlacement".concat(Object(j.a)(c))],d&&t.disabled),ref:a},m),s.cloneElement(r,p),s.createElement(C.a,{component:"span",className:Object(y.a)(t.label,d&&t.disabled)},o))})),w=Object(k.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(S),M=t(773),x=t(824),P=t(853),B=t(833),F=t(445),L=t(126);const R=({open:e,onCancel:a,onSave:t})=>{const{register:n,handleSubmit:l,errors:c,formState:u,triggerValidation:E,control:v,reset:y}=Object(F.b)({mode:"onChange"}),O=Object(s.useCallback)(e=>{t(e)},[t]),k=Object(s.useCallback)(()=>{y(),a()},[a,y]),C=Object(s.useCallback)(()=>{E("level")},[E]);return m.a.createElement(d.a,{fullWidth:!0,maxWidth:"md",open:e,onClose:a},m.a.createElement(p.a,null,"How Are We Doing?"),m.a.createElement(b.a,null,m.a.createElement(i.a,{container:!0,direction:"column",spacing:2},m.a.createElement(i.a,{item:!0},m.a.createElement(F.a,{as:m.a.createElement(h.a,{component:"fieldset",onBlur:C},m.a.createElement(f.a,{component:"legend",required:!0,error:void 0!==c.level},"How would you feel if you could no longer use this extension?"),m.a.createElement(g.a,{"aria-label":"level",name:"level"},m.a.createElement(w,{value:L.c.VERY,control:m.a.createElement(M.a,{autoFocus:!0,color:"primary"}),label:L.c.VERY}),m.a.createElement(w,{value:L.c.SOMEWHAT,control:m.a.createElement(M.a,{color:"primary"}),label:L.c.SOMEWHAT}),m.a.createElement(w,{value:L.c.NOT,control:m.a.createElement(M.a,{color:"primary"}),label:L.c.NOT})),m.a.createElement(x.a,{error:void 0!==c.level},c.level?c.level.message:"")),rules:{required:"Level is required"},name:"level",control:v})),m.a.createElement(i.a,{item:!0},m.a.createElement(P.a,{multiline:!0,rows:3,variant:"outlined",autoComplete:"off",margin:"dense",id:"improvements",name:"improvements",label:"How can we improve this extension for you?",fullWidth:!0,inputRef:n})),m.a.createElement(i.a,{item:!0},m.a.createElement(P.a,{multiline:!0,rows:3,variant:"outlined",autoComplete:"off",margin:"dense",id:"alternative",name:"alternative",label:"What would you use as an alternative if this extension were no longer available?",fullWidth:!0,inputRef:n})),m.a.createElement(i.a,{item:!0},m.a.createElement(P.a,{multiline:!0,rows:3,variant:"outlined",autoComplete:"off",margin:"dense",id:"benefits",name:"benefits",label:"What are the main benefits you receive from this extension?",fullWidth:!0,inputRef:n})))),m.a.createElement(B.a,null,m.a.createElement(o.a,{disabled:!u.isValid,onClick:l(O),variant:"contained",color:"primary"},"Submit"),m.a.createElement(o.a,{onClick:k,color:"primary"},"Cancel")),m.a.createElement(r.a,{marginBottom:2}))},W=({postMessageFunc:e})=>{const[a,t]=Object(u.c)(e),d=Object(s.useCallback)(()=>{t.dismissPMFBanner(u.b.LATER)},[t]),p=Object(s.useCallback)(()=>{t.dismissPMFBanner(u.b.NEVER)},[t]),b=Object(s.useCallback)(()=>{t.showPMFSurvey()},[t]),h=Object(s.useCallback)(e=>{t.submitPMFSurvey(e)},[t]);return m.a.createElement("div",null,m.a.createElement(n.a,{in:a.isPMFBannerOpen},m.a.createElement(l.a,{severity:"info"},m.a.createElement(c.a,null,"Take a quick survey to let us know how we're doing"),m.a.createElement(r.a,{marginBottom:2}),m.a.createElement(i.a,{spacing:3,container:!0},m.a.createElement(i.a,{item:!0},m.a.createElement(o.a,{variant:"contained",color:"primary",size:"small",onClick:b},"Take Survey")),m.a.createElement(i.a,{item:!0},m.a.createElement(o.a,{color:"inherit",size:"small",onClick:d},"Maybe Later")),m.a.createElement(i.a,{item:!0},m.a.createElement(o.a,{color:"inherit",size:"small",onClick:p},"No Thanks"))))),m.a.createElement(R,{open:a.isPMFSurveyOpen,onCancel:d,onSave:h}))}},518:function(e,a,t){"use strict";var n=t(97);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),i=(0,n(t(98)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");a.default=i},570:function(e,a,t){"use strict";var n=t(1),r=t(2),i=t(0),o=(t(5),t(7)),l=t(6),c=t(17),s=t(8),m=t(420),u=i.forwardRef((function(e,a){var t=e.classes,l=e.className,c=e.color,u=void 0===c?"secondary":c,d=e.edge,p=void 0!==d&&d,b=e.size,h=void 0===b?"medium":b,f=Object(r.a)(e,["classes","className","color","edge","size"]),g=i.createElement("span",{className:t.thumb});return i.createElement("span",{className:Object(o.a)(t.root,l,{start:t.edgeStart,end:t.edgeEnd}[p],"small"===h&&t["size".concat(Object(s.a)(h))])},i.createElement(m.a,Object(n.a)({type:"checkbox",icon:g,checkedIcon:g,classes:{root:Object(o.a)(t.switchBase,t["color".concat(Object(s.a)(u))]),input:t.input,checked:t.checked,disabled:t.disabled},ref:a},f)),i.createElement("span",{className:t.track}))}));a.a=Object(l.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(u)},574:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t(77),r=t(840),i=t(812),o=t(0),l=t.n(o);const c=Object(o.memo)(({className:e})=>l.a.createElement(n.a,{component:"div",variant:"body1",className:e},l.a.createElement(r.a,{display:"inline",fontWeight:"fontWeightBold"},"Tip:"," ")," ","You can have issue keys auto-added to your commit messages using"," ",l.a.createElement(i.a,{href:"https://bitbucket.org/snippets/atlassian/qedp7d"},"our prepare-commit-msg hook")))},577:function(e,a,t){"use strict";var n=t(71),r=t(781),i=t(0),o=t.n(i);const l=Object(n.a)(e=>({default:{color:"#42526E",backgroundColor:"#DFE1E6",fontWeight:"bold",textTransform:"uppercase"},inprogress:{color:"#0747A6",backgroundColor:"#DEEBFF",fontWeight:"bold",textTransform:"uppercase"},moved:{color:"#172B4D",backgroundColor:"#FFF0B3",fontWeight:"bold",textTransform:"uppercase"},new:{color:"#403294",backgroundColor:"#EAE6FF",fontWeight:"bold",textTransform:"uppercase"},removed:{color:"#BF2600",backgroundColor:"#FFEBE6",fontWeight:"bold",textTransform:"uppercase"},success:{color:"#006644",backgroundColor:"#E3FCEF",fontWeight:"bold",textTransform:"uppercase"}}));a.a=({appearance:e,label:a})=>{const t=l();return o.a.createElement(r.a,{className:t[e],size:"small",label:a})}},747:function(e,a,t){"use strict";var n=t(1),r=t(2),i=t(0),o=(t(5),t(7)),l=t(6),c=t(77),s=t(442),m=i.forwardRef((function(e,a){var t=e.children,l=e.classes,m=e.className,u=e.disableTypography,d=void 0!==u&&u,p=e.inset,b=void 0!==p&&p,h=e.primary,f=e.primaryTypographyProps,g=e.secondary,E=e.secondaryTypographyProps,v=Object(r.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),y=i.useContext(s.a).dense,O=null!=h?h:t;null==O||O.type===c.a||d||(O=i.createElement(c.a,Object(n.a)({variant:y?"body2":"body1",className:l.primary,component:"span",display:"block"},f),O));var k=g;return null==k||k.type===c.a||d||(k=i.createElement(c.a,Object(n.a)({variant:"body2",className:l.secondary,color:"textSecondary",display:"block"},E),k)),i.createElement("div",Object(n.a)({className:Object(o.a)(l.root,m,y&&l.dense,b&&l.inset,O&&k&&l.multiline),ref:a},v),O,k)}));a.a=Object(l.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(m)},760:function(e,a,t){"use strict";var n=t(1),r=t(2),i=t(0),o=(t(5),t(7)),l=t(77),c=t(6),s=t(481),m=i.forwardRef((function(e,a){var t=e.children,c=e.classes,m=e.className,u=e.component,d=void 0===u?"div":u,p=e.disablePointerEvents,b=void 0!==p&&p,h=e.disableTypography,f=void 0!==h&&h,g=e.position,E=e.variant,v=Object(r.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),y=Object(s.b)()||{},O=E;return E&&y.variant,y&&!O&&(O=y.variant),i.createElement(s.a.Provider,{value:null},i.createElement(d,Object(n.a)({className:Object(o.a)(c.root,m,b&&c.disablePointerEvents,y.hiddenLabel&&c.hiddenLabel,"filled"===O&&c.filled,{start:c.positionStart,end:c.positionEnd}[g],"dense"===y.margin&&c.marginDense),ref:a},v),"string"!==typeof t||f?t:i.createElement(l.a,{color:"textSecondary"},t)))}));a.a=Object(c.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(m)},771:function(e,a,t){"use strict";var n=t(97);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),i=(0,n(t(98)).default)(r.default.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutline");a.default=i},845:function(e,a,t){"use strict";t.r(a);var n,r=t(119),i=t(536),o=t(71),l=t(242),c=t(74),s=t(836),m=t(835),u=t(77),d=t(840),p=t(76),b=t(822),h=t(812),f=t(825),g=t(570),E=t(829),v=t(853),y=t(834),O=t(760),k=t(1),C=t(2),j=t(0),S=t.n(j),w=(t(5),t(7)),M=t(6),x=j.forwardRef((function(e,a){var t=e.classes,n=e.className,r=e.raised,i=void 0!==r&&r,o=Object(C.a)(e,["classes","className","raised"]);return(j.createElement(b.a,Object(k.a)({className:Object(w.a)(t.root,n),elevation:i?8:1,ref:a},o)))})),P=Object(M.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(x),B=j.forwardRef((function(e,a){var t=e.classes,n=e.className,r=e.component,i=void 0===r?"div":r,o=Object(C.a)(e,["classes","className","component"]);return(j.createElement(i,Object(k.a)({className:Object(w.a)(t.root,n),ref:a},o)))})),F=Object(M.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(B),L=t(781),R=t(828),W=t(746),N=t(823),T=t(826),D=t(827),I=t(747),z=t(518),$=t.n(z),A=t(771),U=t.n(A),H=t(774),J=t(99);!function(e){e.Init="init",e.StartWorkResponse="startWorkResponse"}(n||(n={}));Object(i.a)(J.f);const q={issue:Object(i.a)(J.f),repoData:[]},V={workspaceRepo:{rootUri:"",mainSiteRemote:{site:void 0,remote:{name:"",isReadOnly:!0}},siteRemotes:[{site:void 0,remote:{name:"",isReadOnly:!0}}]},href:void 0,avatarUrl:void 0,localBranches:[],remoteBranches:[],branchTypes:[],developmentBranch:void 0,hasLocalChanges:void 0,branchingModel:void 0,isCloud:!1};var _,Y=t(13),Z=t(9),G=t(419),X=t(577),K=t(490),Q=t(574),ee=t(33),ae=t(152);!function(e){e.ClosePage="closePage",e.StartRequest="startRequest"}(_||(_={}));var te=t(126),ne=t(189),re=t(372),ie=function(e,a,t,n){return new(t||(t=Promise))((function(r,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function l(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var a;e.done?r(e.value):(a=e.value,a instanceof t?a:new t((function(e){e(a)}))).then(o,l)}c((n=n.apply(e,a||[])).next())}))};const oe={postMessage:()=>{},refresh:()=>{},openLink:()=>{},startWork:()=>ie(void 0,void 0,void 0,(function*(){return{}})),closePage:()=>{},openJiraIssue:()=>{}},le=S.a.createContext(oe),ce=Object.assign(Object.assign({},q),{isSomethingLoading:!1});var se;function me(e,a){switch(a.type){case se.Init:return Object.assign(Object.assign(Object.assign({},e),a.data),{isSomethingLoading:!1,isErrorBannerOpen:!1,errorDetails:void 0});case se.Loading:return Object.assign(Object.assign({},e),{isSomethingLoading:!0});default:return Object(ee.b)(e,a)}}!function(e){e.Init="init",e.Loading="loading"}(se||(se={}));var ue=function(e,a,t,n){return new(t||(t=Promise))((function(r,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function l(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var a;e.done?r(e.value):(a=e.value,a instanceof t?a:new t((function(e){e(a)}))).then(o,l)}c((n=n.apply(e,a||[])).next())}))};const de=Object(o.a)(e=>({title:{flexGrow:0,marginRight:e.spacing(3),marginLeft:e.spacing(1)},targetSelectLabel:{marginRight:e.spacing(1)},grow:{flexGrow:1},paper100:{overflow:"hidden",height:"100%"},paperOverflow:{overflow:"hidden"},leftBorder:a=>({marginLeft:e.spacing(1),borderLeftWidth:"initial",borderLeftStyle:"solid",borderLeftColor:a.settingsModifiedItemIndicator})}));a.default=()=>{const e=Object(l.a)(),a=Object(j.useContext)(Z.a),t=de(a),[o,k]=function(){const[e,a]=Object(j.useReducer)(me,ce),t=Object(j.useCallback)(e=>{switch(e.type){case n.Init:a({type:se.Init,data:e})}},[]),[r,i]=Object(re.a)(t),o=Object(j.useCallback)((e,a,t,r,o,l,c)=>new Promise((s,m)=>{(()=>{ie(this,void 0,void 0,(function*(){try{const m=yield i({type:_.StartRequest,transitionIssueEnabled:e,transition:a,wsRepo:r,branchSetupEnabled:t,sourceBranch:o,targetBranch:l,upstream:c},n.StartWorkResponse,ne.a);s(m)}catch(e){m(e)}}))})()}),[i]),l=Object(j.useCallback)(()=>r({type:_.ClosePage}),[r]),c=Object(j.useCallback)(()=>{a({type:se.Loading}),r({type:ae.a.Refresh})},[r]),s=Object(j.useCallback)(e=>r({type:ae.a.ExternalLink,source:te.d.StartWork,linkId:e}),[r]),m=Object(j.useCallback)(()=>r({type:ae.a.OpenJiraIssue,issueOrKey:e.issue}),[r,e.issue]),u=Object(j.useMemo)(()=>({postMessage:r,refresh:c,openJiraIssue:m,openLink:s,startWork:o,closePage:l}),[m,s,r,c,o,l]);return[e,u]}(),[C,w]=Object(j.useState)(!0),[M,x]=Object(j.useState)(!0),[B,z]=Object(j.useState)(i.e),[A,J]=Object(j.useState)(V),[q,ee]=Object(j.useState)({kind:"Custom",prefix:""}),[oe,pe]=Object(j.useState)({type:0,name:""}),[be,he]=Object(j.useState)(""),[fe,ge]=Object(j.useState)(""),[Ee,ve]=Object(j.useState)([]),[ye,Oe]=Object(j.useState)("initial"),[ke,Ce]=Object(j.useState)({}),je=Object(j.useCallback)(()=>w(!C),[C]),Se=Object(j.useCallback)(()=>x(!M),[M]),we=Object(j.useCallback)(e=>{z(e.target.value)},[z]),Me=Object(j.useCallback)(e=>{J(e.target.value)},[J]),xe=Object(j.useCallback)(e=>{ee(e.target.value)},[ee]),Pe=Object(j.useCallback)((e,a)=>{pe(a)},[pe]),Be=Object(j.useCallback)(e=>{e.preventDefault(),e.stopPropagation();const a=e.currentTarget.dataset.branchName||"",t=[...A.localBranches,...A.remoteBranches].find(e=>e.name===a),n=0===t.type?t.name:t.name.substring(t.remote.length+1),r=A.branchTypes.find(e=>a.startsWith(e.prefix));ee(r),he(n.substring(r.prefix.length)),pe(t)},[A]),Fe=Object(j.useCallback)(e=>{he(e.target.value)},[he]),Le=Object(j.useCallback)(e=>{ge(e.target.value)},[ge]),Re=Object(j.useCallback)(()=>ue(void 0,void 0,void 0,(function*(){Oe("submitting");try{const e=yield k.startWork(C,B,M,A.workspaceRepo,oe,`${q.prefix}${be}`,fe);Oe("submit-success"),Ce(e)}catch(e){Oe("initial")}})),[k,C,B,M,A,oe,q,be,fe]);return Object(j.useEffect)(()=>{var e;""===A.workspaceRepo.rootUri&&o.repoData.length>0&&J(null===(e=o.repoData)||void 0===e?void 0:e[0])},[A,o.repoData]),Object(j.useEffect)(()=>{var e,a,t;ge(A.workspaceRepo.mainSiteRemote.remote.name),ee((null===(e=A.branchTypes)||void 0===e?void 0:e[0])||{kind:"Custom",prefix:""}),pe((null===(a=A.localBranches)||void 0===a?void 0:a.find(e=>A.developmentBranch&&e.name===A.developmentBranch))||(null===(t=A.localBranches)||void 0===t?void 0:t[0])||{name:"no branches found"}),ve([...A.localBranches.filter(e=>{var a;return null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(o.issue.key.toLowerCase())}),...A.remoteBranches.filter(e=>{var a;return null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(o.issue.key.toLowerCase())}).filter(e=>!A.localBranches.some(a=>e.name.endsWith(a.name)))])},[A,o.issue]),Object(j.useEffect)(()=>{he(`${o.issue.key}-${o.issue.summary.substring(0,50).trim().toLowerCase().replace(/\W+/g,"-")}`),Oe("initial")},[o.issue]),Object(j.useEffect)(()=>{var e;const a=o.issue.transitions.find(e=>!e.isInitial&&e.to.name.toLocaleLowerCase().includes("progress"))||o.issue.transitions.find(e=>!e.isInitial)||(null===(e=o.issue.transitions)||void 0===e?void 0:e[0])||i.e;z(a)},[o.issue]),S.a.createElement(le.Provider,{value:k},S.a.createElement(c.a,{maxWidth:"xl"},S.a.createElement(s.a,{position:"relative"},S.a.createElement(m.a,null,S.a.createElement(u.a,{variant:"h3",className:t.title},"Start work"),S.a.createElement(d.a,{className:t.grow}),S.a.createElement(r.e,{loading:o.isSomethingLoading,onClick:k.refresh}))),S.a.createElement(p.a,{container:!0,spacing:1},S.a.createElement(p.a,{item:!0,xs:12,md:12,lg:12,xl:12},S.a.createElement(b.a,{className:t.paper100},S.a.createElement(d.a,{margin:2},S.a.createElement(G.a,null),S.a.createElement(K.a,{postMessageFunc:k.postMessage}),S.a.createElement(p.a,{container:!0,spacing:2,direction:"column"},S.a.createElement(p.a,{item:!0},S.a.createElement(d.a,null)),S.a.createElement(p.a,{item:!0},S.a.createElement(p.a,{container:!0,spacing:1},S.a.createElement(p.a,{item:!0},S.a.createElement(h.a,{component:"button",onClick:k.openJiraIssue},S.a.createElement(u.a,{variant:"h4"},S.a.createElement(d.a,{fontWeight:"fontWeightBold"},o.issue.key)))),S.a.createElement(p.a,{item:!0},S.a.createElement(u.a,{variant:"h4"},S.a.createElement(d.a,{fontWeight:"fontWeightBold"},`${o.issue.summary}`))))),S.a.createElement(p.a,{item:!0},S.a.createElement(u.a,{variant:"body2",dangerouslySetInnerHTML:{__html:o.issue.descriptionHtml}})),S.a.createElement(p.a,{item:!0},S.a.createElement(f.a,null)),S.a.createElement(p.a,{item:!0},S.a.createElement(p.a,{container:!0,spacing:1,direction:"row"},S.a.createElement(p.a,{item:!0},S.a.createElement(g.a,{color:"primary",size:"small",checked:C,onClick:je})),S.a.createElement(p.a,{item:!0},S.a.createElement(u.a,{variant:"h4"},S.a.createElement(d.a,{fontWeight:"fontWeightBold"},"Transition issue"))))),S.a.createElement(p.a,{item:!0},S.a.createElement(E.a,{in:C},S.a.createElement(p.a,{container:!0,spacing:2,className:t.leftBorder},S.a.createElement(p.a,{item:!0},S.a.createElement(v.a,{select:!0,size:"small",label:"Transition issue",value:B,onChange:we},o.issue.transitions.map(e=>S.a.createElement(y.a,{key:e.id,value:e},S.a.createElement(X.a,{appearance:Y.a[e.to.statusCategory.colorName],label:e.to.name})))))))),S.a.createElement(p.a,{item:!0},S.a.createElement(f.a,null)),S.a.createElement(p.a,{item:!0},S.a.createElement(p.a,{container:!0,spacing:1,direction:"row"},S.a.createElement(p.a,{item:!0},S.a.createElement(g.a,{color:"primary",size:"small",checked:M,onClick:Se})),S.a.createElement(p.a,{item:!0},S.a.createElement(u.a,{variant:"h4"},S.a.createElement(d.a,{fontWeight:"fontWeightBold"},"Set up git branch"))))),S.a.createElement(p.a,{item:!0},S.a.createElement(E.a,{in:M},S.a.createElement(p.a,{container:!0,spacing:2,direction:"column",className:t.leftBorder},S.a.createElement(p.a,{item:!0,xs:8,md:4,lg:3,xl:3},S.a.createElement(v.a,{select:!0,size:"small",label:"Repository",fullWidth:!0,value:A,onChange:Me},o.repoData.map(e=>S.a.createElement(y.a,{key:e.workspaceRepo.rootUri,value:e},e.workspaceRepo.rootUri.substring(e.workspaceRepo.rootUri.lastIndexOf("/")+1))))),S.a.createElement(p.a,{item:!0,xs:8,md:4,lg:3,xl:3},S.a.createElement(H.a,{options:[...A.localBranches,...A.remoteBranches],getOptionLabel:e=>e.name,value:oe,loading:""===oe.name,onChange:Pe,size:"small",disableClearable:!0,openOnFocus:!0,renderInput:e=>S.a.createElement(v.a,Object.assign({},e,{label:"Source branch"}))})),S.a.createElement(p.a,{item:!0,xs:6,md:3,lg:2,xl:2},S.a.createElement(v.a,{select:!0,size:"small",label:"Branch type",fullWidth:!0,value:q,onChange:xe},A.branchTypes.map(e=>S.a.createElement(y.a,{key:e.kind,value:e},e.kind)))),S.a.createElement(p.a,{item:!0,xs:10,md:6,lg:4,xl:4},S.a.createElement(v.a,{size:"small",label:"Local branch",fullWidth:!0,InputProps:{startAdornment:q.prefix.length>0?S.a.createElement(O.a,{position:"start",variant:"standard"},S.a.createElement(d.a,{fontWeight:"fontWeightBold"},q.prefix)):null},value:be,onChange:Fe})),S.a.createElement(p.a,{item:!0,xs:8,md:4,lg:3,xl:3,hidden:A.workspaceRepo.siteRemotes.length<=1},S.a.createElement(v.a,{select:!0,size:"small",label:"Set upstream to",fullWidth:!0,value:fe,onChange:Le},A.workspaceRepo.siteRemotes.map(e=>S.a.createElement(y.a,{key:e.remote.name,value:e.remote.name},e.remote.name)))),S.a.createElement(p.a,{item:!0,hidden:0===Ee.length},S.a.createElement(P,{raised:!0},S.a.createElement(F,null,S.a.createElement(p.a,{container:!0,spacing:1},S.a.createElement(p.a,{item:!0},S.a.createElement(U.a,null)),S.a.createElement(p.a,{item:!0},S.a.createElement(u.a,null,"Use an existing branch?"),S.a.createElement(u.a,{variant:"subtitle2"},"Click to use an existing branch for this issue"))),S.a.createElement("ul",null,Ee.map(e=>{var a;return S.a.createElement("li",{key:e.name},S.a.createElement(h.a,{href:"#","data-branch-name":e.name,onClick:Be},0===e.type?e.name:null===(a=e.name)||void 0===a?void 0:a.substring(e.remote.length+1)))})),S.a.createElement(u.a,{variant:"subtitle2"},"* source branch selection is ignored for existing branches")))),S.a.createElement(p.a,{item:!0},S.a.createElement(p.a,{container:!0,spacing:1,alignItems:"flex-end"},S.a.createElement(p.a,{item:!0},S.a.createElement("svg",{width:"141.53846154px",height:"60px",viewBox:"0 0 92 39"},S.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none"},S.a.createElement("g",{id:"branch-diagram-create"},S.a.createElement("path",{d:"M86,36 C87.6568542,36 89,34.6568542 89,33 C89,31.3431458 87.6568542,30 86,30 C84.3431458,30 83,31.3431458 83,33 C83,34.6568542 84.3431458,36 86,36 Z M80.1081488,34.1399309 C65.7396146,32.2267058 58.0992007,22.7452367 57.5009625,6.05372681 L60.4990375,5.94627319 C61.0417803,21.0894001 67.5381337,29.3713241 80.2936839,31.1405887 C81.0763531,28.7370585 83.3353207,27 86,27 C89.3137085,27 92,29.6862915 92,33 C92,36.3137085 89.3137085,39 86,39 C83.076066,39 80.6406301,36.9084914 80.1081488,34.1399309 Z",id:"Combined-Shape",fill:"#5E6C84",fillRule:"nonzero"}),S.a.createElement("path",{d:"M53.3414114,8 L11.6585886,8 C10.8349158,10.3303847 8.61243765,12 6,12 C2.6862915,12 0,9.3137085 0,6 C0,2.6862915 2.6862915,0 6,0 C8.61243765,0 10.8349158,1.66961525 11.6585886,4 L53.3414114,4 C54.1650842,1.66961525 56.3875623,0 59,0 C62.3137085,0 65,2.6862915 65,6 C65,9.3137085 62.3137085,12 59,12 C56.3875623,12 54.1650842,10.3303847 53.3414114,8 Z",id:"Combined-Shape",fill:e.palette.primary.main}))))),S.a.createElement(p.a,{item:!0},S.a.createElement(p.a,{container:!0,spacing:1,direction:"column"},S.a.createElement(p.a,{item:!0},S.a.createElement(L.a,{variant:"outlined",color:"primary",label:oe.name})),S.a.createElement(p.a,{item:!0},S.a.createElement(L.a,{variant:"outlined",color:"primary",label:`${q.prefix}${be}`}))))))))),S.a.createElement(p.a,{item:!0,hidden:"submit-success"===ye},S.a.createElement(R.a,{variant:"contained",color:"primary",disabled:"submitting"===ye,onClick:Re,endIcon:"submitting"===ye?S.a.createElement(W.a,{color:"inherit",size:e.typography.fontSize}):null},"Start")),S.a.createElement(p.a,{item:!0,hidden:"submit-success"===ye},S.a.createElement(Q.a,null)),S.a.createElement(p.a,{item:!0,hidden:"submit-success"!==ye},S.a.createElement(P,{raised:!0},S.a.createElement(F,null,S.a.createElement(N.a,{dense:!0},S.a.createElement(T.a,null,S.a.createElement(D.a,null,S.a.createElement($.a,null)),S.a.createElement(I.a,{primary:"Assigned the issue to you"})),void 0!==ke.transistionStatus&&S.a.createElement(T.a,null,S.a.createElement(D.a,null,S.a.createElement($.a,null)),S.a.createElement(I.a,null,"Transitioned status to"," ",S.a.createElement("code",null,ke.transistionStatus))),void 0!==ke.branch&&S.a.createElement(T.a,null,S.a.createElement(D.a,null,S.a.createElement($.a,null)),S.a.createElement(I.a,null,"Switched to ",S.a.createElement("code",null,ke.branch)," branch with upstream set to"," ",S.a.createElement("code",null,ke.upstream,"/",ke.branch))))))),S.a.createElement(p.a,{item:!0,hidden:"submit-success"!==ye},S.a.createElement(R.a,{variant:"contained",color:"default",onClick:k.closePage},"Close")))))))))}},99:function(e,a,t){"use strict";var n;t.d(a,"b",(function(){return r})),t.d(a,"a",(function(){return i})),t.d(a,"g",(function(){return l})),t.d(a,"f",(function(){return c})),t.d(a,"c",(function(){return s})),t.d(a,"d",(function(){return m})),t.d(a,"e",(function(){return u})),function(e){e.Update="update",e.Remove="remove"}(n||(n={}));const r={name:"Jira",key:"jira"},i={name:"Bitbucket",key:"bitbucket"};var o;!function(e){e.BitbucketCloud="bbcloud",e.BitbucketCloudStaging="bbcloudstaging",e.JiraCloud="jiracloud",e.JiraCloudStaging="jiracloudstaging"}(o||(o={}));const l={id:"",displayName:"",email:"",avatarUrl:""},c={id:"",name:"",avatarUrl:"",host:"",baseLinkUrl:"",baseApiUrl:"",product:{name:"",key:""},isCloud:!0,userId:"",credentialId:""},s={id:"",name:"",avatarUrl:"",scopes:[],baseUrlSuffix:"atlassian.net"},m={user:l},u={user:l,username:"",password:""}}}]);